!function n(a,s,r){function o(e,t){if(!s[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);throw(i=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",i}i=s[e]={exports:{}},a[e][0].call(i.exports,function(t){return o(a[e][1][t]||t)},i,i.exports,n,a,s,r)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<r.length;t++)o(r[t]);return o}({1:[function(t,e,f){(function(n){(function(){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var t,s=(t="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null)&&t.__esModule?t:{default:t},a="undefined"!=typeof window?window.peepso:void 0!==n?n.peepso:null,e="undefined"!=typeof window?window.peepsodata:void 0!==n?n.peepsodata:null;function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.hashtags.url;var o,l=+e.hashtags.everything||0,u=!l&&+e.hashtags.min_length||0,h=!l&&+e.hashtags.max_length||1e4,e=!l&&+e.hashtags.must_start_with_letter||0,p=(i=l?"(^|>|\\s)(#([^#\\s<]+))":"(^|>|\\s)(#("+((i=e)?"[a-z]":"")+"[a-z0-9]{"+Math.max(0,u-(i?1:0))+","+Math.max(0,h-(i?1:0))+"}))",new RegExp(i,"ig")),i=function(){function e(){var t=this;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o||((o=this).hashtag=void 0,this.$filter=null,this.$toggle=null,this.$input=null,this.$apply=null,this.assignHooks(),(0,s.default)(function(){t.initActivityFilter()})),o}var t,i,n;return t=e,(i=[{key:"filter",value:function(t){var e,i=this,n=this.hashtag;(this.hashtag=t)?(e=this.$toggle.data("keyword")+t+' <i class="ps-posts__filter-remove gcis gci-times-circle"></i>',this.$toggle.html(e),this.$toggle.one("click","i",function(){i.filter("")}),(e=(0,s.default)("#postbox-main textarea.ps-postbox-textarea").eq(0)).length&&!e.val()&&e.val("#".concat(t," ")).trigger("input")):(e=this.$toggle.data("empty"),this.$toggle.html(e),(e=(0,s.default)("#postbox-main textarea.ps-postbox-textarea").eq(0)).length&&e.val()==="#".concat(n," ")&&e.val("").trigger("input")),this.$input.val(t),a.observer.doAction("peepso_stream_reset")}},{key:"assignHooks",value:function(){var e=this;a.observer.addFilter("peepso_postbox_beautifier",function(t){return t.replace(p,function(t,e,i,n){return e+'<ps_span class="ps-tag">'+i+"</ps_span>"})},20,1),a.observer.addFilter("peepso_activity",function(t){return e.hashtag&&(t=t.map(function(){var t=(0,s.default)(this),e=t.html();return t.closest(".ps-js-activity").length&&"string"==typeof e&&!e.match(p)?null:this})),t},20,1),a.observer.addFilter("show_more_posts",function(t){return e.hashtag&&(t.search_hashtag=e.hashtag),t},10,1)}},{key:"initActivityFilter",value:function(){var a=this;this.$filter=(0,s.default)(".ps-js-activitystream-filter").filter("[data-id=peepso_search_hashtag]"),this.$toggle=this.$filter.find(".ps-js-dropdown-toggle span"),this.$input=this.$filter.find("input[type=text]"),this.$apply=this.$filter.find(".ps-js-search-hashtag"),this.$input.on("input",function(t){var e=t.target,i=e.value,n=i.replace(l?/[#\s<]/g:/[^a-z0-9]/gi,""),t=n.length;i!==n&&(e.value=n),t<u||h<t?a.$apply.attr("disabled","disabled"):a.$apply.removeAttr("disabled")}).triggerHandler("input"),this.$input.on("keyup",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),a.$apply.click())}),this.$apply.on("click",function(){var t=a.$input.val().trim(),e=t.length;u<=e&&e<=h&&a.filter(t)});var t=decodeURIComponent(window.location.href),e=l?/\/\??hashtag\/([^#\s<\/]+)/:/\/\??hashtag\/([a-z0-9]+)/i,e=t.match(e);e&&this.filter(e[1])}}])&&r(t.prototype,i),n&&r(t,n),e}();new(f.default=i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);